var f=Object.defineProperty;var h=(a,e,s)=>e in a?f(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s;var r=(a,e,s)=>h(a,typeof e!="symbol"?e+"":e,s);import{f as p,c as l,o,a as t,z as v,j as n,p as m,d as y,A as g,B as x,m as b,n as q,t as w,q as T,C as N,r as u}from"./JDq8zTVl.js";const _="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23000000'%3e%3cpath%20d='M480-80q-82%200-155-31.5t-127.5-86Q143-252%20111.5-325T80-480q0-83%2031.5-155.5t86-127Q252-817%20325-848.5T480-880q17%200%2028.5%2011.5T520-840q0%2017-11.5%2028.5T480-800q-133%200-226.5%2093.5T160-480q0%20133%2093.5%20226.5T480-160q133%200%20226.5-93.5T800-480q0-17%2011.5-28.5T840-520q17%200%2028.5%2011.5T880-480q0%2082-31.5%20155t-86%20127.5q-54.5%2054.5-127%2086T480-80Z'/%3e%3c/svg%3e",j={class:"flex flex-col gap-3"},k={key:0,class:"text-green-700 flex justify-center"},S={key:1,class:"text-red-700 flex justify-center"},F={key:2,class:"text-red-700 flex justify-center"},V={type:"submit",class:"flex gap-2 justify-center cursor-pointer rounded-lg bg-menu-background text-white py-3 px-4"},E={class:"absolute -translate-x-13"},O=p({__name:"Form",props:{form:{}},setup(a){return(e,s)=>(o(),l("div",null,[t("form",{onSubmit:s[0]||(s[0]=x((...i)=>e.form.send&&e.form.send(...i),["prevent"])),class:"flex flex-col gap-2 bg-white sm:px-6 px-4 sm:pt-4 pt-2 sm:pb-6 pb-4 rounded-xl shadow-lg shadow-black/20"},[v(e.$slots,"default"),t("div",j,[t("div",null,[e.form.status.value=="success"?(o(),l("div",k,s[1]||(s[1]=[t("p",{class:"text-green-700"},"Erfolgreich abgeschickt!",-1)]))):n("",!0),e.form.status.value=="serverErrror"?(o(),l("div",S,s[2]||(s[2]=[t("p",{class:"text-red-700"},"Fehler beim Senden. Versuche es später nochmal und weise uns gerne per Mail auf diesen Fehler hin.",-1)]))):n("",!0),e.form.status.value=="clientError"?(o(),l("div",F,s[3]||(s[3]=[t("p",{class:"text-red-700"},"Fehler beim Senden. Überprüfe deine Internetverbindung und versuche es später nochmal.",-1)]))):n("",!0)]),t("button",V,[m(t("span",E,s[4]||(s[4]=[t("img",{src:_,class:"invert animate-spin"},null,-1)]),512),[[g,e.form.status.value=="sending"]]),s[5]||(s[5]=y(" Senden "))])])],32)]))}}),M={class:"flex flex-col my-4"},B=["required","placeholder"],$=p({__name:"TextAreaInput",props:b({displayName:{},placeholder:{},required:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(a){const e=a,s=q(a,"modelValue");return(i,d)=>(o(),l("label",M,[t("span",{class:T(["text-xs ml-2 text-gray-500",{"form-label-required":e.required}])},w(e.displayName),3),m(t("textarea",{class:"border-b-1 border-gray-400 p-2 h-40",required:e.required,"onUpdate:modelValue":d[0]||(d[0]=c=>s.value=c),placeholder:e.placeholder},null,8,B),[[N,s.value]])]))}});function C(){return{name:"",email:"",message:"",subject:""}}class z{constructor(e,s){r(this,"formName");r(this,"payload");r(this,"status",u(void 0));r(this,"send",()=>{this.status.value="sending";let e;"generatePayload"in this.payload.value?e=this.payload.value.generatePayload(this.payload.value.data):e=this.payload.value,fetch("https://email-forms-453803557958.europe-west4.run.app",{method:"POST",body:JSON.stringify({key:"gDdJR6GNwfZ2Kf4GYCyExzNRm78xGvxd",form:this.formName,...e}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(s=>{s.status===200?(this.status.value="success","generatePayload"in this.payload.value?Object.assign(this.payload.value.data,this.payload.value.emptyData()):Object.assign(this.payload.value,C())):this.status.value="serverErrror"}).catch(()=>{this.status.value="clientError"})});this.formName=e,this.payload=u(s)}}export{z as F,O as _,$ as a,C as e};
